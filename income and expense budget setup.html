<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Budget Setup Flow - Center Focused</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          'Inter',
          -apple-system,
          BlinkMacSystemFont,
          'Segoe UI',
          Roboto,
          sans-serif;
        background: #f1f5f9;
        color: #1e293b;
        line-height: 1.5;
      }

      .setup-container {
        display: grid;
        grid-template-rows: 64px 1fr;
        grid-template-columns: 300px 1fr 320px;
        height: 100vh;
        gap: 24px;
        background: #f1f5f9;
        padding: 0 24px 24px 24px;
      }

      /* Header */
      .app-header {
        grid-column: 1 / -1;
        background: #ffffff;
        border-bottom: 1px solid #e2e8f0;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 24px;
        z-index: 10;
        margin: 0 24px;
        border-radius: 0 0 16px 16px;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.05);
      }

      .header-left {
        display: flex;
        align-items: center;
        gap: 24px;
      }

      .app-logo {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .logo-icon {
        width: 32px;
        height: 32px;
        background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 600;
        font-size: 16px;
      }

      .app-name {
        font-size: 18px;
        font-weight: 600;
        color: #0f172a;
      }

      .setup-progress {
        display: flex;
        align-items: center;
        gap: 16px;
        background: #eff6ff;
        padding: 8px 16px;
        border-radius: 20px;
      }

      .progress-bar {
        width: 200px;
        height: 6px;
        background: #e2e8f0;
        border-radius: 3px;
        overflow: hidden;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #3b82f6 0%, #1e40af 100%);
        border-radius: 3px;
        transition: width 0.5s ease;
      }

      .progress-text {
        font-size: 13px;
        color: #1e40af;
        font-weight: 500;
      }

      .panel {
        background: #ffffff;
        overflow-y: auto;
        border-radius: 16px;
        box-shadow:
          0 1px 3px 0 rgba(0, 0, 0, 0.1),
          0 1px 2px 0 rgba(0, 0, 0, 0.06);
        position: relative;
      }

      /* Left Panel - Progress Checklist */
      .left-panel {
        padding: 24px;
      }

      .checklist-header {
        margin-bottom: 24px;
      }

      .checklist-title {
        font-size: 16px;
        font-weight: 600;
        color: #0f172a;
        margin-bottom: 8px;
      }

      .checklist-subtitle {
        font-size: 13px;
        color: #64748b;
      }

      .checklist-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px 0;
        border-bottom: 1px solid #f1f5f9;
      }

      .checklist-item:last-child {
        border-bottom: none;
      }

      .check-icon {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: 600;
      }

      .check-icon.pending {
        background: #f1f5f9;
        color: #94a3b8;
        border: 2px solid #e2e8f0;
      }

      .check-icon.active {
        background: #eff6ff;
        color: #3b82f6;
        border: 2px solid #3b82f6;
      }

      .check-icon.complete {
        background: #10b981;
        color: white;
      }

      .checklist-content {
        flex: 1;
      }

      .checklist-name {
        font-size: 14px;
        font-weight: 500;
        color: #374151;
        margin-bottom: 2px;
      }

      .checklist-desc {
        font-size: 12px;
        color: #64748b;
      }

      .checklist-item.complete .checklist-name {
        color: #059669;
      }

      .checklist-item.active .checklist-name {
        color: #3b82f6;
      }

      /* Center Panel - Main Setup Area */
      .center-panel {
        background: #ffffff;
        padding: 48px;
        display: flex;
        flex-direction: column;
        position: relative;
      }

      .setup-step {
        display: none;
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.4s ease;
      }

      .setup-step.active {
        display: flex;
        flex-direction: column;
        opacity: 1;
        transform: translateY(0);
      }

      .step-header {
        text-align: center;
        margin-bottom: 48px;
      }

      .step-icon {
        font-size: 64px;
        margin-bottom: 20px;
      }

      .step-title {
        font-size: 32px;
        font-weight: 600;
        color: #0f172a;
        margin-bottom: 12px;
      }

      .step-subtitle {
        font-size: 18px;
        color: #64748b;
        line-height: 1.6;
        max-width: 500px;
        margin: 0 auto;
      }

      .step-content {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        max-width: 600px;
        margin: 0 auto;
        width: 100%;
      }

      /* Income Setup */
      .income-section {
        background: #f8fafc;
        border-radius: 16px;
        padding: 40px;
        text-align: center;
        margin-bottom: 32px;
      }

      .income-inputs {
        display: flex;
        align-items: center;
        gap: 20px;
        justify-content: center;
        margin-top: 24px;
      }

      .income-input-group {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
      }

      .income-label {
        font-size: 14px;
        color: #64748b;
        font-weight: 500;
      }

      .income-input {
        width: 140px;
        padding: 16px 20px;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        font-size: 20px;
        text-align: center;
        background: white;
        transition: all 0.2s;
      }

      .income-input:focus {
        outline: none;
        border-color: #3b82f6;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      }

      .range-connector {
        font-size: 18px;
        color: #64748b;
        font-weight: 500;
        margin-top: 24px;
      }

      .income-explanation {
        background: #eff6ff;
        border-radius: 12px;
        padding: 20px;
        margin-top: 24px;
      }

      .explanation-title {
        font-size: 16px;
        font-weight: 600;
        color: #1e40af;
        margin-bottom: 8px;
      }

      .explanation-text {
        font-size: 14px;
        color: #1e40af;
        line-height: 1.5;
      }

      /* Expense Setup */
      .expense-section {
        margin-bottom: 32px;
      }

      .tier-intro {
        background: #f8fafc;
        border-radius: 16px;
        padding: 32px;
        text-align: center;
        margin-bottom: 32px;
      }

      .tier-icon {
        font-size: 48px;
        margin-bottom: 16px;
      }

      .tier-title {
        font-size: 24px;
        font-weight: 600;
        color: #0f172a;
        margin-bottom: 12px;
      }

      .tier-description {
        font-size: 16px;
        color: #64748b;
        line-height: 1.6;
        max-width: 400px;
        margin: 0 auto;
      }

      .expense-form {
        background: white;
        border: 2px solid #e2e8f0;
        border-radius: 16px;
        padding: 32px;
        margin-bottom: 24px;
      }

      .form-title {
        font-size: 18px;
        font-weight: 600;
        color: #374151;
        margin-bottom: 20px;
        text-align: center;
      }

      .form-row {
        display: flex;
        gap: 16px;
        margin-bottom: 20px;
      }

      .form-input {
        flex: 1;
        padding: 16px 20px;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        font-size: 16px;
        transition: all 0.2s;
      }

      .form-input:focus {
        outline: none;
        border-color: #3b82f6;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      }

      .add-button {
        background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
        color: white;
        border: none;
        padding: 16px 32px;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s;
        width: 100%;
      }

      .add-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 16px rgba(59, 130, 246, 0.3);
      }

      .expenses-list {
        display: grid;
        gap: 12px;
        margin-top: 24px;
      }

      .expense-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 16px 20px;
        background: #f8fafc;
        border-radius: 12px;
        border: 1px solid #e2e8f0;
      }

      .expense-name {
        font-size: 16px;
        font-weight: 500;
        color: #374151;
      }

      .expense-amount {
        font-size: 16px;
        font-weight: 600;
        color: #059669;
      }

      /* Navigation */
      .step-navigation {
        margin-top: 48px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .nav-button {
        padding: 16px 32px;
        border: 2px solid #e2e8f0;
        background: white;
        color: #374151;
        border-radius: 12px;
        cursor: pointer;
        font-size: 16px;
        font-weight: 500;
        transition: all 0.2s;
      }

      .nav-button:hover {
        background: #f8fafc;
      }

      .nav-button.primary {
        background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
        color: white;
        border-color: transparent;
      }

      .nav-button.primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 16px rgba(22, 163, 74, 0.3);
      }

      .nav-button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      /* Right Panel - Live Impact */
      .right-panel {
        padding: 24px;
        background: #fafbfc;
      }

      .impact-header {
        margin-bottom: 24px;
      }

      .impact-title {
        font-size: 16px;
        font-weight: 600;
        color: #0f172a;
        margin-bottom: 8px;
      }

      .impact-subtitle {
        font-size: 13px;
        color: #64748b;
      }

      .impact-cards {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .impact-card {
        background: white;
        border: 1px solid #e2e8f0;
        border-radius: 12px;
        padding: 16px;
        transition: all 0.3s ease;
      }

      .impact-card.active {
        border-color: #3b82f6;
        box-shadow: 0 2px 8px rgba(59, 130, 246, 0.1);
      }

      .impact-card.positive {
        border-color: #10b981;
        background: #f0fdf4;
      }

      .card-label {
        font-size: 12px;
        color: #64748b;
        margin-bottom: 4px;
        text-transform: uppercase;
        font-weight: 500;
        letter-spacing: 0.5px;
      }

      .card-value {
        font-size: 20px;
        font-weight: 600;
        color: #374151;
      }

      .impact-card.positive .card-value {
        color: #059669;
      }

      .confidence-meter {
        margin-top: 24px;
        background: white;
        border-radius: 12px;
        padding: 20px;
        text-align: center;
      }

      .confidence-title {
        font-size: 14px;
        font-weight: 600;
        color: #374151;
        margin-bottom: 12px;
      }

      .confidence-level {
        font-size: 24px;
        font-weight: 600;
        color: #10b981;
        margin-bottom: 8px;
      }

      .confidence-description {
        font-size: 12px;
        color: #64748b;
      }
    </style>
  </head>
  <body>
    <div class="setup-container">
      <!-- Header -->
      <header class="app-header">
        <div class="header-left">
          <div class="app-logo">
            <div class="logo-icon">B</div>
            <span class="app-name">BudgetWise</span>
          </div>
        </div>
        <div class="setup-progress">
          <div class="progress-bar">
            <div
              class="progress-fill"
              id="progressFill"
              style="width: 20%"
            ></div>
          </div>
          <span class="progress-text" id="progressText"
            >Setting up your budget</span
          >
        </div>
      </header>

      <!-- Left Panel: Progress Checklist -->
      <div class="panel left-panel">
        <div class="checklist-header">
          <h3 class="checklist-title">Setup Progress</h3>
          <p class="checklist-subtitle">Building your financial foundation</p>
        </div>

        <div class="checklist-item" id="incomeCheck">
          <div class="check-icon active">1</div>
          <div class="checklist-content">
            <div class="checklist-name">Income Range</div>
            <div class="checklist-desc">Your monthly earnings</div>
          </div>
        </div>

        <div class="checklist-item" id="essentialsCheck">
          <div class="check-icon pending">2</div>
          <div class="checklist-content">
            <div class="checklist-name">Essential Needs</div>
            <div class="checklist-desc">Must-have expenses</div>
          </div>
        </div>

        <div class="checklist-item" id="basicsCheck">
          <div class="check-icon pending">3</div>
          <div class="checklist-content">
            <div class="checklist-name">Important Basics</div>
            <div class="checklist-desc">Flexible necessities</div>
          </div>
        </div>

        <div class="checklist-item" id="lifestyleCheck">
          <div class="check-icon pending">4</div>
          <div class="checklist-content">
            <div class="checklist-name">Lifestyle Wants</div>
            <div class="checklist-desc">Enjoyment & extras</div>
          </div>
        </div>

        <div class="checklist-item" id="goalsCheck">
          <div class="check-icon pending">5</div>
          <div class="checklist-content">
            <div class="checklist-name">Financial Goals</div>
            <div class="checklist-desc">Savings & debt payoff</div>
          </div>
        </div>
      </div>

      <!-- Center Panel: Main Setup -->
      <div class="panel center-panel">
        <!-- Step 1: Income -->
        <div class="setup-step active" id="step1">
          <div class="step-header">
            <div class="step-icon">💰</div>
            <h2 class="step-title">What's your income range?</h2>
            <p class="step-subtitle">
              We'll plan conservatively with your minimum, but show you the
              upside when you earn more.
            </p>
          </div>

          <div class="step-content">
            <div class="income-section">
              <div class="income-inputs">
                <div class="income-input-group">
                  <div class="income-label">Minimum Monthly</div>
                  <input
                    type="number"
                    class="income-input"
                    placeholder="4,000"
                    id="minIncome"
                  />
                </div>
                <div class="range-connector">to</div>
                <div class="income-input-group">
                  <div class="income-label">Maximum Monthly</div>
                  <input
                    type="number"
                    class="income-input"
                    placeholder="6,500"
                    id="maxIncome"
                  />
                </div>
              </div>

              <div class="income-explanation">
                <div class="explanation-title">💡 Why we ask for a range</div>
                <div class="explanation-text">
                  Most people have variable income from bonuses, overtime, or
                  seasonal work. We'll use your minimum for realistic planning,
                  then celebrate when you exceed it!
                </div>
              </div>
            </div>

            <div class="step-navigation">
              <div></div>
              <button class="nav-button primary" id="continueStep1" disabled>
                Continue to Essential Needs
              </button>
            </div>
          </div>
        </div>

        <!-- Step 2: Essential Needs -->
        <div class="setup-step" id="step2">
          <div class="step-header">
            <div class="step-icon">🏠</div>
            <h2 class="step-title">Essential Needs</h2>
            <p class="step-subtitle">
              Your absolute must-haves - the expenses you cannot avoid no matter
              what.
            </p>
          </div>

          <div class="step-content">
            <div class="tier-intro">
              <div class="tier-icon">🛡️</div>
              <h3 class="tier-title">Building Your Safety Net</h3>
              <p class="tier-description">
                These are survival-level expenses: rent, minimum debt payments,
                basic utilities, and essential food. Knowing this baseline helps
                you make smart decisions about everything else.
              </p>
            </div>

            <div class="expense-form">
              <div class="form-title">Add an Essential Expense</div>
              <div class="form-row">
                <input
                  type="text"
                  class="form-input"
                  placeholder="Expense name (e.g., Rent, Minimum Credit Card Payment)"
                  id="essentialName"
                />
                <input
                  type="number"
                  class="form-input"
                  placeholder="Monthly amount"
                  id="essentialAmount"
                />
              </div>
              <button class="add-button" onclick="addEssential()">
                Add Essential Expense
              </button>
            </div>

            <div class="expenses-list" id="essentialsList"></div>

            <div class="step-navigation">
              <button class="nav-button" onclick="previousStep()">
                ← Back
              </button>
              <button class="nav-button primary" id="continueStep2" disabled>
                Continue to Important Basics
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Panel: Live Impact -->
      <div class="panel right-panel">
        <div class="impact-header">
          <h3 class="impact-title">Live Impact</h3>
          <p class="impact-subtitle">Watch your budget take shape</p>
        </div>

        <div class="impact-cards">
          <div class="impact-card" id="incomeCard">
            <div class="card-label">Monthly Income</div>
            <div class="card-value" id="incomeDisplay">Enter above</div>
          </div>

          <div class="impact-card" id="essentialsCard">
            <div class="card-label">Essential Needs</div>
            <div class="card-value" id="essentialsDisplay">$0</div>
          </div>

          <div class="impact-card" id="remainingCard">
            <div class="card-label">Available for Everything Else</div>
            <div class="card-value" id="remainingDisplay">--</div>
          </div>
        </div>

        <div class="confidence-meter">
          <div class="confidence-title">Financial Confidence</div>
          <div class="confidence-level" id="confidenceLevel">Building...</div>
          <div class="confidence-description" id="confidenceDesc">
            Add your information to see your confidence score
          </div>
        </div>
      </div>
    </div>

    <script>
      let currentStep = 1;
      let setupData = {
        minIncome: 0,
        maxIncome: 0,
        essentials: [],
        essentialTotal: 0
      };

      // Income handling
      function updateIncomeDisplay() {
        const incomeCard = document.getElementById('incomeCard');
        const incomeDisplay = document.getElementById('incomeDisplay');
        const continueBtn = document.getElementById('continueStep1');

        if (setupData.minIncome > 0 && setupData.maxIncome > 0) {
          incomeCard.classList.add('active');
          incomeDisplay.textContent = `$${setupData.minIncome.toLocaleString()} - $${setupData.maxIncome.toLocaleString()}`;
          continueBtn.disabled = false;

          updateRemainingAmount();
          updateProgress();
        } else {
          incomeCard.classList.remove('active');
          continueBtn.disabled = true;
        }
      }

      function updateRemainingAmount() {
        const remainingCard = document.getElementById('remainingCard');
        const remainingDisplay = document.getElementById('remainingDisplay');

        if (setupData.minIncome > 0) {
          const remaining = setupData.minIncome - setupData.essentialTotal;
          remainingDisplay.textContent = `$${remaining.toLocaleString()}`;

          if (remaining > 0) {
            remainingCard.classList.add('positive');
          } else {
            remainingCard.classList.remove('positive');
          }
        }
      }

      function addEssential() {
        const name = document.getElementById('essentialName').value.trim();
        const amount =
          parseFloat(document.getElementById('essentialAmount').value) || 0;

        if (name && amount > 0) {
          setupData.essentials.push({ name, amount });
          setupData.essentialTotal += amount;

          updateEssentialsList();
          updateEssentialsDisplay();
          updateRemainingAmount();

          // Clear inputs
          document.getElementById('essentialName').value = '';
          document.getElementById('essentialAmount').value = '';

          // Enable continue button
          document.getElementById('continueStep2').disabled = false;

          updateProgress();
        }
      }

      function updateEssentialsList() {
        const list = document.getElementById('essentialsList');
        list.innerHTML = setupData.essentials
          .map(
            (item) =>
              `<div class="expense-item">
                    <span class="expense-name">${item.name}</span>
                    <span class="expense-amount">$${item.amount.toLocaleString()}</span>
                </div>`
          )
          .join('');
      }

      function updateEssentialsDisplay() {
        const essentialsCard = document.getElementById('essentialsCard');
        const essentialsDisplay = document.getElementById('essentialsDisplay');

        essentialsDisplay.textContent = `$${setupData.essentialTotal.toLocaleString()}`;

        if (setupData.essentialTotal > 0) {
          essentialsCard.classList.add('active');
        }
      }

      function updateProgress() {
        let progress = 0;

        // Income complete
        if (setupData.minIncome > 0 && setupData.maxIncome > 0) {
          progress += 20;
          document
            .getElementById('incomeCheck')
            .querySelector('.check-icon')
            .classList.remove('active');
          document
            .getElementById('incomeCheck')
            .querySelector('.check-icon')
            .classList.add('complete');
          document
            .getElementById('incomeCheck')
            .querySelector('.check-icon').textContent = '✓';
          document.getElementById('incomeCheck').classList.add('complete');
        }

        // Essentials started
        if (setupData.essentials.length > 0) {
          progress += 20;
          document
            .getElementById('essentialsCheck')
            .querySelector('.check-icon')
            .classList.remove('pending');
          document
            .getElementById('essentialsCheck')
            .querySelector('.check-icon')
            .classList.add('complete');
          document
            .getElementById('essentialsCheck')
            .querySelector('.check-icon').textContent = '✓';
          document.getElementById('essentialsCheck').classList.add('complete');
        }

        // Update confidence
        updateConfidence(progress);

        document.getElementById('progressFill').style.width = `${progress}%`;
      }

      function updateConfidence(progress) {
        const level = document.getElementById('confidenceLevel');
        const desc = document.getElementById('confidenceDesc');

        if (progress >= 40) {
          level.textContent = 'High';
          desc.textContent =
            "Great foundation! You're building financial clarity.";
        } else if (progress >= 20) {
          level.textContent = 'Growing';
          desc.textContent = 'Good start! Keep adding your expenses.';
        } else {
          level.textContent = 'Building...';
          desc.textContent =
            'Add your information to see your confidence score';
        }
      }

      function moveToStep(step) {
        document
          .getElementById(`step${currentStep}`)
          .classList.remove('active');

        setTimeout(() => {
          document.getElementById(`step${step}`).classList.add('active');
          currentStep = step;

          // Update active checklist item
          document.querySelectorAll('.checklist-item').forEach((item) => {
            item.querySelector('.check-icon').classList.remove('active');
          });

          if (step <= 5) {
            const targetSteps = [
              'incomeCheck',
              'essentialsCheck',
              'basicsCheck',
              'lifestyleCheck',
              'goalsCheck'
            ];
            const targetCheck = document.getElementById(targetSteps[step - 1]);
            if (targetCheck && !targetCheck.classList.contains('complete')) {
              targetCheck.querySelector('.check-icon').classList.add('active');
              targetCheck.classList.add('active');
            }
          }
        }, 200);
      }

      function previousStep() {
        if (currentStep > 1) {
          moveToStep(currentStep - 1);
        }
      }

      // Event listeners
      document
        .getElementById('minIncome')
        .addEventListener('input', function () {
          setupData.minIncome = parseFloat(this.value) || 0;
          updateIncomeDisplay();
        });

      document
        .getElementById('maxIncome')
        .addEventListener('input', function () {
          setupData.maxIncome = parseFloat(this.value) || 0;
          updateIncomeDisplay();
        });

      document
        .getElementById('continueStep1')
        .addEventListener('click', function () {
          if (!this.disabled) {
            moveToStep(2);
          }
        });

      document
        .getElementById('essentialAmount')
        .addEventListener('keypress', function (e) {
          if (e.key === 'Enter') {
            addEssential();
          }
        });
    </script>
  </body>
</html>
